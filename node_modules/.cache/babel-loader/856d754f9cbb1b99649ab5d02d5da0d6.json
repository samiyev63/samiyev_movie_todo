{"ast":null,"code":"var _jsxFileName = \"/Users/samiyev/Desktop/1-module. Source code/src/components/app/app.js\";\nimport { Component } from \"react\";\nimport AppInfo from \"../app-info/app-info\";\nimport SearchPanel from \"../search-panel/search-panel\";\nimport AppFilter from \"../app-filter/app-filter\";\nimport MovieList from \"../movie-list/movie-list\";\nimport MoviesAddForm from \"../movies-add-form/movies-add-form\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport \"./app.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDelete = id => {\n      this.setState(_ref => {\n        let {\n          data\n        } = _ref;\n        return {\n          data: data.filter(c => c.id !== id)\n        };\n      });\n    };\n\n    this.addForm = item => {\n      const newItem = {\n        name: item.name,\n        viewers: item.viewers,\n        id: uuidv4(),\n        favourite: false,\n        like: false\n      };\n      this.setState(_ref2 => {\n        let {\n          data\n        } = _ref2;\n        return {\n          data: [...data, newItem]\n        };\n      });\n    };\n\n    this.onToggleProp = (id, prop) => {\n      this.setState(_ref3 => {\n        let {\n          data\n        } = _ref3;\n        return {\n          data: data.map(item => {\n            if (item.id === id) {\n              return { ...item,\n                [prop]: !item[prop]\n              };\n            }\n\n            return item;\n          })\n        };\n      });\n    };\n\n    this.searchHandler = (arr, term) => {\n      if (term.length === 0) {\n        return arr;\n      }\n\n      return arr.filter(item => item.name.toLowerCase().indexOf(term) > -1);\n    };\n\n    this.filterHandler = (arr, filter) => {\n      switch (filter) {\n        case \"popular\":\n          return arr.filter(c => c.like);\n\n        case \"mostViewers\":\n          return arr.filter(c => c.viewers > 800);\n\n        default:\n          return arr;\n      }\n    };\n\n    this.updateTermHandler = term => this.setState({\n      term\n    });\n\n    this.updateFilterHandler = filter => this.setState({\n      filter\n    });\n\n    this.state = {\n      data: [{\n        name: \"Empire of osman\",\n        viewers: 988,\n        favourite: false,\n        like: false,\n        id: 1\n      }, {\n        name: \"Ertugrul\",\n        viewers: 789,\n        favourite: false,\n        like: false,\n        id: 2\n      }, {\n        name: \"Omar\",\n        viewers: 1091,\n        favourite: false,\n        like: false,\n        id: 3\n      }],\n      term: \"\",\n      filter: \"all\"\n    };\n  }\n\n  render() {\n    const {\n      data,\n      term,\n      filter\n    } = this.state;\n    const allMoviesCount = data.length;\n    const favouriteMovieCount = data.filter(c => c.favourite).length;\n    const visibleData = this.filterHandler(this.searchHandler(data, term), filter);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app font-monospace\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(AppInfo, {\n          allMoviesCount: allMoviesCount,\n          favouriteMovieCount: favouriteMovieCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-panel\",\n          children: [/*#__PURE__*/_jsxDEV(SearchPanel, {\n            updateTermHandler: this.updateTermHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AppFilter, {\n            filter: filter,\n            updateFilterHandler: this.updateFilterHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MovieList, {\n          onToggleProp: this.onToggleProp,\n          data: visibleData,\n          onDelete: this.onDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MoviesAddForm, {\n          addForm: this.addForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["Component","AppInfo","SearchPanel","AppFilter","MovieList","MoviesAddForm","v4","uuidv4","App","constructor","props","onDelete","id","setState","data","filter","c","addForm","item","newItem","name","viewers","favourite","like","onToggleProp","prop","map","searchHandler","arr","term","length","toLowerCase","indexOf","filterHandler","updateTermHandler","updateFilterHandler","state","render","allMoviesCount","favouriteMovieCount","visibleData"],"sources":["/Users/samiyev/Desktop/1-module. Source code/src/components/app/app.js"],"sourcesContent":["import { Component } from \"react\";\nimport AppInfo from \"../app-info/app-info\";\nimport SearchPanel from \"../search-panel/search-panel\";\nimport AppFilter from \"../app-filter/app-filter\";\nimport MovieList from \"../movie-list/movie-list\";\nimport MoviesAddForm from \"../movies-add-form/movies-add-form\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport \"./app.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [\n        {\n          name: \"Empire of osman\",\n          viewers: 988,\n          favourite: false,\n          like: false,\n          id: 1,\n        },\n        {\n          name: \"Ertugrul\",\n          viewers: 789,\n          favourite: false,\n          like: false,\n          id: 2,\n        },\n        { name: \"Omar\", viewers: 1091, favourite: false, like: false, id: 3 },\n      ],\n      term: \"\",\n      filter: \"all\",\n    };\n  }\n\n  onDelete = (id) => {\n    this.setState(({ data }) => ({\n      data: data.filter((c) => c.id !== id),\n    }));\n  };\n\n  addForm = (item) => {\n    const newItem = {\n      name: item.name,\n      viewers: item.viewers,\n      id: uuidv4(),\n      favourite: false,\n      like: false,\n    };\n    this.setState(({ data }) => ({\n      data: [...data, newItem],\n    }));\n  };\n\n  onToggleProp = (id, prop) => {\n    this.setState(({ data }) => ({\n      data: data.map((item) => {\n        if (item.id === id) {\n          return { ...item, [prop]: !item[prop] };\n        }\n        return item;\n      }),\n    }));\n  };\n\n  searchHandler = (arr, term) => {\n    if (term.length === 0) {\n      return arr;\n    }\n\n    return arr.filter((item) => item.name.toLowerCase().indexOf(term) > -1);\n  };\n\n  filterHandler = (arr, filter) => {\n    switch (filter) {\n      case \"popular\":\n        return arr.filter((c) => c.like);\n      case \"mostViewers\":\n        return arr.filter((c) => c.viewers > 800);\n      default:\n        return arr;\n    }\n  };\n\n  updateTermHandler = (term) => this.setState({ term });\n\n  updateFilterHandler = (filter) => this.setState({ filter });\n\n  render() {\n    const { data, term, filter } = this.state;\n    const allMoviesCount = data.length;\n    const favouriteMovieCount = data.filter((c) => c.favourite).length;\n    const visibleData = this.filterHandler(\n      this.searchHandler(data, term),\n      filter\n    );\n\n    return (\n      <div className=\"app font-monospace\">\n        <div className=\"content\">\n          <AppInfo\n            allMoviesCount={allMoviesCount}\n            favouriteMovieCount={favouriteMovieCount}\n          />\n          <div className=\"search-panel\">\n            <SearchPanel updateTermHandler={this.updateTermHandler} />\n            <AppFilter\n              filter={filter}\n              updateFilterHandler={this.updateFilterHandler}\n            />\n          </div>\n          <MovieList\n            onToggleProp={this.onToggleProp}\n            data={visibleData}\n            onDelete={this.onDelete}\n          />\n          <MoviesAddForm addForm={this.addForm} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}