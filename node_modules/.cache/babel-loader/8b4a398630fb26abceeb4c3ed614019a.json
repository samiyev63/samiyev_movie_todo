{"ast":null,"code":"var _jsxFileName = \"/Users/samiyev/Desktop/1-module. Source code/src/components/app/app.js\";\nimport { Component } from 'react';\nimport AppInfo from '../app-info/app-info';\nimport SearchPanel from '../search-panel/search-panel';\nimport AppFilter from '../app-filter/app-filter';\nimport MovieList from '../movie-list/movie-list';\nimport MoviesAddForm from '../movies-add-form/movies-add-form';\nimport { v4 as uuidv4 } from 'uuid';\nimport './app.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDelete = id => {\n      this.setState(_ref => {\n        let {\n          data\n        } = _ref;\n        return {\n          data: data.filter(c => c.id !== id)\n        };\n      });\n    };\n\n    this.addForm = item => {\n      const newItem = {\n        name: item.name,\n        viewers: item.viewers,\n        id: uuidv4(),\n        favourite: false,\n        like: false\n      };\n      this.setState(_ref2 => {\n        let {\n          data\n        } = _ref2;\n        return {\n          data: [...data, newItem]\n        };\n      });\n    };\n\n    this.onToggleProp = (id, prop) => {\n      this.setState(_ref3 => {\n        let {\n          data\n        } = _ref3;\n        return {\n          data: data.map(item => {\n            if (item.id === id) {\n              return { ...item,\n                [prop]: !item[prop]\n              };\n            }\n\n            return item;\n          })\n        };\n      });\n    };\n\n    this.searchHandler = (arr, term) => {\n      if (term.length === 0) {\n        return arr;\n      }\n\n      return arr.filter(item => item.name.toLowerCase().indexOf(term) > -1);\n    };\n\n    this.filterHandler = (arr, filter) => {\n      switch (filter) {\n        case 'popular':\n          return arr.filter(c => c.like);\n\n        case 'mostViewers':\n          return arr.filter(c => c.viewers > 800);\n\n        default:\n          return arr;\n      }\n    };\n\n    this.updateTermHandler = term => this.setState({\n      term\n    });\n\n    this.updateFilterHandler = filter => this.setState({\n      filter\n    });\n\n    this.state = {\n      data: [{\n        name: 'Empire of osman',\n        viewers: 988,\n        favourite: false,\n        like: false,\n        id: 1\n      }, {\n        name: 'Ertugrul',\n        viewers: 789,\n        favourite: false,\n        like: false,\n        id: 2\n      }, {\n        name: 'Omar',\n        viewers: 1091,\n        favourite: false,\n        like: false,\n        id: 3\n      }],\n      term: '',\n      filter: 'all'\n    };\n  }\n\n  render() {\n    const {\n      data,\n      term,\n      filter\n    } = this.state;\n    const allMoviesCount = data.length;\n    const favouriteMovieCount = data.filter(c => c.favourite).length;\n    const visibleData = this.filterHandler(this.searchHandler(data, term), filter);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app font-monospace\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(AppInfo, {\n          allMoviesCount: allMoviesCount,\n          favouriteMovieCount: favouriteMovieCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-panel\",\n          children: [/*#__PURE__*/_jsxDEV(SearchPanel, {\n            updateTermHandler: this.updateTermHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(AppFilter, {\n            filter: filter,\n            updateFilterHandler: this.updateFilterHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(MovieList, {\n          onToggleProp: this.onToggleProp,\n          data: visibleData,\n          onDelete: this.onDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(MoviesAddForm, {\n          addForm: this.addForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["Component","AppInfo","SearchPanel","AppFilter","MovieList","MoviesAddForm","v4","uuidv4","App","constructor","props","onDelete","id","setState","data","filter","c","addForm","item","newItem","name","viewers","favourite","like","onToggleProp","prop","map","searchHandler","arr","term","length","toLowerCase","indexOf","filterHandler","updateTermHandler","updateFilterHandler","state","render","allMoviesCount","favouriteMovieCount","visibleData"],"sources":["/Users/samiyev/Desktop/1-module. Source code/src/components/app/app.js"],"sourcesContent":["import { Component } from 'react'\nimport AppInfo from '../app-info/app-info'\nimport SearchPanel from '../search-panel/search-panel'\nimport AppFilter from '../app-filter/app-filter'\nimport MovieList from '../movie-list/movie-list'\nimport MoviesAddForm from '../movies-add-form/movies-add-form'\nimport { v4 as uuidv4 } from 'uuid'\n\nimport './app.css'\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tdata: [\n\t\t\t\t{ name: 'Empire of osman', viewers: 988, favourite: false, like: false, id: 1 },\n\t\t\t\t{ name: 'Ertugrul', viewers: 789, favourite: false, like: false, id: 2 },\n\t\t\t\t{ name: 'Omar', viewers: 1091, favourite: false, like: false, id: 3 },\n\t\t\t],\n\t\t\tterm: '',\n\t\t\tfilter: 'all',\n\t\t}\n\t}\n\n\tonDelete = id => {\n\t\tthis.setState(({ data }) => ({\n\t\t\tdata: data.filter(c => c.id !== id),\n\t\t}))\n\t}\n\n\taddForm = item => {\n\t\tconst newItem = { name: item.name, viewers: item.viewers, id: uuidv4(), favourite: false, like: false }\n\t\tthis.setState(({ data }) => ({\n\t\t\tdata: [...data, newItem],\n\t\t}))\n\t}\n\n\tonToggleProp = (id, prop) => {\n\t\tthis.setState(({ data }) => ({\n\t\t\tdata: data.map(item => {\n\t\t\t\tif (item.id === id) {\n\t\t\t\t\treturn { ...item, [prop]: !item[prop] }\n\t\t\t\t}\n\t\t\t\treturn item\n\t\t\t}),\n\t\t}))\n\t}\n\n\tsearchHandler = (arr, term) => {\n\t\tif (term.length === 0) {\n\t\t\treturn arr\n\t\t}\n\n\t\treturn arr.filter(item => item.name.toLowerCase().indexOf(term) > -1)\n\t}\n\n\tfilterHandler = (arr, filter) => {\n\t\tswitch (filter) {\n\t\t\tcase 'popular':\n\t\t\t\treturn arr.filter(c => c.like)\n\t\t\tcase 'mostViewers':\n\t\t\t\treturn arr.filter(c => c.viewers > 800)\n\t\t\tdefault:\n\t\t\t\treturn arr\n\t\t}\n\t}\n\n\tupdateTermHandler = term => this.setState({ term })\n\n\tupdateFilterHandler = filter => this.setState({ filter })\n\n\trender() {\n\t\tconst { data, term, filter } = this.state\n\t\tconst allMoviesCount = data.length\n\t\tconst favouriteMovieCount = data.filter(c => c.favourite).length\n\t\tconst visibleData = this.filterHandler(this.searchHandler(data, term), filter)\n\n\t\treturn (\n\t\t\t<div className='app font-monospace'>\n\t\t\t\t<div className='content'>\n\t\t\t\t\t<AppInfo allMoviesCount={allMoviesCount} favouriteMovieCount={favouriteMovieCount} />\n\t\t\t\t\t<div className='search-panel'>\n\t\t\t\t\t\t<SearchPanel updateTermHandler={this.updateTermHandler} />\n\t\t\t\t\t\t<AppFilter filter={filter} updateFilterHandler={this.updateFilterHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<MovieList onToggleProp={this.onToggleProp} data={visibleData} onDelete={this.onDelete} />\n\t\t\t\t\t<MoviesAddForm addForm={this.addForm} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}